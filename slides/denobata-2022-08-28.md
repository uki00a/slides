---
title: Denoã°ãŸä¼šè­° Monthly ç¬¬12å›
description: Denoã°ãŸä¼šè­° Monthly ç¬¬12å›
keywords: Deno
url: https://uki00a.github.io/slides/denobata-2022-08-28
---

# Denoã°ãŸä¼šè­° Monthly ç¬¬12å›

<!-- _class: lead -->

---

## Deno v1.25

<!-- _class: lead -->

---

### npmãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚µãƒãƒ¼ãƒˆ

`npm:<ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸å>`ã§npmãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’`import`ã§ãã¾ã™ã€‚

```typescript
import express from "npm:express@4.18.1"

const app = express()
app.get("/", function (req, res) {
  res.send("Hello");
})

app.listen(3000);
```

```shell
$ deno run --unstable --allow-env --allow-read --allow-net main.mjs
```

---

### npmãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚µãƒãƒ¼ãƒˆ

`npx`ãƒ©ã‚¤ã‚¯ã«ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚

```shell
$ deno run --unstable \
  --allow-env \
  --allow-read \
  --allow-write \
  npm:make-dir-cli@3.0.0 src/components
```

---

### æ–°ã—ã„HTTPã‚µãƒ¼ãƒ (Flash)

```typescript
const ac = new AbortController();

Deno.serve((req) => new Response("Hello, Flash"), {
  port: 4500,
  onListen: ({ port, hostname }) => {
    console.log(`Started at http://${hostname}:${port}`);
  },
  onError: (error) => {
    return new Response("Internal Server Error", { status: 500 });
  },
  signal: ac.signal,
});
```

---

### `deno init`ã‚³ãƒãƒ³ãƒ‰

```shell
$ deno init my-first-project
âœ… Project initialized
Run these commands to get started
  cd my-first-project
  deno run main.ts
  deno test
```

`npm init`ã‚„`yarn init`ãªã©ã®ã‚ˆã†ã«ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®åˆæœŸåŒ–ãŒã§ãã¾ã™ã€‚

---

### FFIã¸ã®`"buffer"`å‹ã®è¿½åŠ  (**ç ´å£Šçš„å¤‰æ›´**)

```typescript
const dylib = Deno.dlopen(libPath, {
  "do_something_with_buffer": { parameters: ["buffer", "usize"], result: "void" },
});

const data = new Uint8Array([1, 2, 3, 4]);
dylib.do_something_with_buffer(data, data.length);
```

ä»Šå¾Œã¯ã€`TypedArray`ã‚’æ¸¡ã™éš›ã¯`"pointer"`å‹ã§ã¯ãªã`"buffer"`å‹ã‚’ä½¿ã†å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

---

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–

- ä¾å­˜é–¢ä¿‚ã®è§£æçµæœã‚’ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã™ã‚‹ã“ã¨ã«ã‚ˆã‚‹èµ·å‹•æ™‚é–“ã®é«˜é€ŸåŒ–
- V8 Fast Calls ã‚’ä½¿ç”¨ã—ãŸopsã®æœ€é©åŒ–ã®ä»•çµ„ã¿ãŒå°å…¥
- `Deno.open(Sync)`ã‚„Web Streams APIãªã©ãŒæœ€é©åŒ–

---

## [Big Changes Ahead for Deno](https://deno.com/blog/changes)

Denoã®ä»Šå¾Œã®è¨ˆç”»ã«ã¤ã„ã¦ç™ºè¡¨ã•ã‚Œã¾ã—ãŸã€‚

- Node.jsã¨ã®äº’æ›æ€§ã®å‘ä¸Š
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®å‘ä¸Š
- ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºãƒ¦ãƒ¼ã‚¶ã¸ã®ã‚µãƒãƒ¼ãƒˆã®å¼·åŒ–
- é–‹ç™ºä½“é¨“ã®å‘ä¸Š

---

## Deno Merch

- https://merch.deno.com/
- Denoã‚¹ãƒ†ãƒƒã‚«ãƒ¼ã‚„Denoãƒ‘ãƒ¼ã‚«ãƒ¼ã¨ã‹ãŒè²©å£²ã•ã‚Œã¦ã¾ã™ğŸ¦•
- [GraphQL Storefront API (Shopify)](https://shopify.dev/api/storefront)ã‚„[Fresh](https://github.com/denoland/fresh)ãªã©ã‚’ä½¿ã£ã¦é–‹ç™ºã•ã‚Œã¦ã„ã¾ã™

---

## [Freshã®ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—](https://github.com/denoland/fresh/issues/563)

- ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ  (ä¾‹: [Twindãƒ—ãƒ©ã‚°ã‚¤ãƒ³](https://github.com/denoland/fresh/pull/513))
  ```typescript
  import { start } from "$fresh/server.ts";
  import twindPlugin from "$fresh/plugins/twind.ts";
  import manifest from "./fresh.gen.ts";
  import twindConfig from "./twind.config.js";

  await start(manifest, { plugins: [twindPlugin(twindConfig)] });
  ```
- `<Head>`ã®éæ¨å¥¨åŒ– (ä»£ã‚ã‚Šã«`<head>`ã‚’ä½¿ã†)

---

## Prismaã®Denoã‚µãƒãƒ¼ãƒˆ

> Hey folks, we are working hard with Prisma team on support for both Deno CLI and Deno Deploy. We expect to share some news in the coming weeks.

[Bartek](https://github.com/bartlomieju)ã•ã‚“ã®ç™ºè¨€ã‚ˆã‚Š ([prisma/prisma: Add support for Deno (#2452)](https://github.com/prisma/prisma/issues/2452#issuecomment-1201068791))

è¿‘æ—¥ä¸­ã«ä½•ã‹ç™ºè¡¨ãŒã‚ã‚‹ã‹ã‚‚...ğŸ‘€

---

<!--
## `deno bundle`ã®éæ¨å¥¨åŒ–ã¨`deno pack`ã®è¿½åŠ 

- [Proposal: deprecate deno bundle, add deno pack (#15463)](https://github.com/denoland/deno/issues/15463) 
- ã‚³ãƒãƒ³ãƒ‰åã«é–¢ã™ã‚‹èª¤è§£ã®è§£æ¶ˆã‚„å®‰å®šæ€§ã®å‘ä¸Šãªã©ãŒç›®çš„ã®ã‚ˆã†ã§ã™ã€‚

---
-->

## deno-jaã®LPğŸ£

[hashrockã•ã‚“](https://github.com/hashrock)ãŒdeno-jaã®LPã‚’ä½œã£ã¦ãã ã•ã„ã¾ã—ãŸï¼

- [deno-ja.deno.dev](https://deno-ja.deno.dev/)

[Deno News](https://deno.news/archive/49-big-changes-for-deno-starting-with-v125)ã§ã‚‚ç´¹ä»‹ã•ã‚Œã¦ã¾ã™ğŸ‘€
