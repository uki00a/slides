---
title: Denoばた会議 Monthly 第17回
description: Denoばた会議 Monthly 第17回
keywords: Deno
url: https://uki00a.github.io/slides/denobata-2023-03-10
paginate: true
---

# Denoばた会議 Monthly 第17回

<!-- _class: lead -->

---

# Deno v1.31

<!-- _class: lead -->

---

## `package.json`のサポート

Denoが`package.json`を探索してくれます。

```json
{
  "dependencies": {
    "chalk": "^5.2.0",
    "koa": "2"
  },
  "devDependencies": {
    "cowsay": "^1.5.0"
  },
  "scripts": {
    "hello": "cowsay Hello"
  }
}
```

---

## `package.json`のサポート

`package.json`の`dependencies`を`import`できます。

```javascript
import chalk from "chalk"; // => `npm:chalk@^5.2.0`
import Koa from "koa"; // => `npm:koa@2`

const app = new Koa();

app.use((ctx) => {
  ctx.body = "Hello world";
});

app.listen(3000, () => {
  console.log(chalk.blue.bold("Listening on port 3000"));
});
```

---

## `package.json`のサポート

`deno task`で`scripts`を実行できます。

```shell
$ deno task hello
# `deno run -A npm:cowsay@^1.5.0 hello`が実行されます
```

---

## `std/node`のDeno本体への組み込み

[std/node](https://deno.land/std@0.177.0/node)がDeno本体に組み込まれました。

---

## 不安定機能の安定化

以下の機能が`--unstable`なしで利用できるようになりました。

- [Node-API](https://nodejs.org/docs/latest-v18.x/api/n-api.html)
- npmパッケージ(`npm:`URL)に依存したリモートモジュール
- `Deno.Command`

---

## `deno bundle`コマンドが非推奨化

```shell
$ deno bundle main.ts
Warning "deno bundle" is deprecated and will be removed in the future.
Use alternative bundlers like "deno_emit", "esbuild" or "rollup" instead.

... 省略 ...
```

今後は、[deno_emit](https://github.com/denoland/deno_emit)や[esbuild](https://github.com/lucacasonato/esbuild_deno_loader)などへの移行が推奨されています。
